<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        // Layout Styles
[data-set="bird-type"] {
  // Step 1. uncomment below to see the collapse
  // container-type: inline-size;
}

// Filters
[data-form~="bird-filters"] {
  column-gap: 2rem;
  display: grid;
  grid-template: "options results" auto / var(--col-width, auto) 1fr;

  // Step 2. uncomment below to add explicit size for container to work
  //     --col-width: 10ch;

  //     @media (min-width: 40rem) {
  //       --col-width: minmax(18ch, 20ch);
  //     }
}

[data-section~="options"] {
  grid-area: options;
}

[data-section~="results"] {
  grid-area: results;
}

[data-list~="birds"] {
  display: grid;
  gap: 1rem;
  grid-template-columns: 1fr 1fr;

  @media (min-width: 40rem) {
    grid-template-columns: repeat(auto-fill, minmax(8rem, 1fr));
  }
}

[data-fieldstyle="inline image"] {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
}

[data-fieldstyle="inline button"] {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

[data-fieldstyle="checkbox list"] {
  display: grid;
  row-gap: 0.5rem;
}

// Styles for fun
body,
button {
  font-family: "Kanit", sans-serif;
}

body {
  background-color: lch(90 14.94 216.45 / 0.97);
  padding: 2rem;
}

h1 {
  font-size: calc(2rem + 3vw);
  margin-block: 0 1rem;

  span {
    color: lch(66 80 28);
    font-family: "Norican", cursive;
    font-weight: 900;
  }
}

[data-heading] {
  color: lch(27 43 292);
  font-weight: bold;
  text-transform: uppercase;
}

[data-radio="input"] {
  appearance: none;
  clip: rect(1px, 1px, 1px, 1px);
  -webkit-clip-path: inset(1px 1px 1px 1px);
  clip-path: inset(1px 1px 1px 1px);
  height: 1px;
  overflow: hidden;
  pointer-events: none;
  position: absolute;
  width: 1px;
}

[data-fieldstyle~="button"] {
  label {
    align-items: center;
    background-color: var(--label-bg, transparent);
    border: thin solid var(--label-border, lch(27 43 292));
    color: var(--label-fg, lch(27 43 292));
    display: inline-flex;
    justify-content: center;
    padding: 0.25rem 1rem;

    &:hover {
      --label-bg: white;
      --label-border: lch(27 43 292);
      --label-fg: lch(27 43 292);
    }
  }

  [data-radio="input"]:checked + label {
    --label-bg: lch(27 43 292);
    --label-fg: white;
  }
}

[data-item~="bird"] {
  background: white;
  color: lch(27 43 292);
  font-weight: bold;
  padding: 0.125rem 0.125rem 0.5rem;
}

img {
  height: auto;
  max-width: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  object-position: var(--bird-position, center);
  margin-block-end: 0.25rem;
  width: 100%;
}

[data-bird="parrot"] {
  --bird-position: top;
}

legend {
  margin-block-end: 0.5rem;
}

fieldset {
  border: 0;
  padding: 0;
  margin: 0 0 2rem;
}

label {
  cursor: pointer;
}

ul {
  list-style: none;
  padding: 0;
}

    </style>
</head>
<body>
    <h1>Container Queries <span>&</span> Birds</h1>
<div data-layout="content list-filters">
  <form action="." method="GET" data-form="bird-filters">
    <div data-section="options">
      <fieldset data-set="bird-type">
        <legend data-heading>Type of Bird</legend>
        <div data-fieldstyle="inline button">
          <div data-radio-type="oddbird">
            <input data-radio="input" type="radio" name="type" value="odd" id="type_1" checked="">
            <label for="type_1" data-radio="option">
              <span class="label-text">OddBirds</span>
            </label>
          </div>
          <div data-radio-type="allbirds">
            <input data-radio="input" type="radio" name="type" value="All" id="type_2" checked="">
            <label for="type_2" data-radio="option">
              <span class="label-text">All Birds</span>
            </label>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend data-heading>Bird Size</legend>
        <div data-fieldstyle="checkbox list">
          <label for="small">
            <input type="checkbox" name="size" value="small" id="small">
            Small
          </label>
          <label for="medium">
            <input type="checkbox" name="size" value="medium" id="medium">
            Medium
          </label>
          <label for="large">
            <input type="checkbox" name="size" value="large" id="large">
            Large
          </label>
        </div>
      </fieldset>
      <noscript><input type="submit"></noscript>
    </div>

    <div data-section="results">
      <ul data-list="birds">
        <li data-item="bird" data-bird-size="medium" data-bird-type="odd">
          <img src="https://assets.codepen.io/150150/owl.jpg" />
          Owl
        </li>
        <li data-item="bird" data-bird-size="small" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/bluejay.jpg" />
          Blue Jay
        </li>
        <li data-item="bird" data-bird-size="large" data-bird-type="odd">
          <img src="https://assets.codepen.io/150150/heron.jpg" />
          Heron
        </li>
        <li data-item="bird" data-bird-size="small" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/finch.jpg" />
          Finch
        </li>
        <li data-item="bird" data-bird-size="medium" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/pelican.jpg" />
          Pelican
        </li>
        <li data-item="bird" data-bird-size="large" data-bird-type="odd">
          <img src="https://assets.codepen.io/150150/emu.jpg" />
          Emu
        </li>
        <li data-item="bird" data-bird-size="large" data-bird-type="odd">
          <img src="https://assets.codepen.io/150150/penguin.jpg" />
          Penguin
        </li>
        <li data-item="bird" data-bird-size="small" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/woodpecker.jpg" />
          Woodpecker
        </li>
        <li data-item="bird" data-bird-size="medium" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/bird1.jpg" />
          Toucan
        </li>
        <li data-item="bird" data-bird-size="small" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/cardinal.jpg" />
          Cardinal
        </li>
        <li data-item="bird" data-bird-size="large" data-bird-type="odd">
          <img src="https://assets.codepen.io/150150/flamingo.jpg" />
          Flamingo
        </li>
        <li data-item="bird" data-bird-size="small" data-bird-type="odd">
          <img src="https://assets.codepen.io/150150/hummingbird.jpg" />
          Hummingbird
        </li>
        <li data-item="bird" data-bird-size="medium" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/hawk.jpg" />
          Hawk
        </li>
        <li data-item="bird" data-bird-size="medium" data-bird="parrot" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/parrot.jpg" />
          Parrot
        </li>
        <li data-item="bird" data-bird-size="medium" data-bird-type="odd">
          <img src="https://assets.codepen.io/150150/puffin.jpg" />
          Puffin
        </li>
        <li data-item="bird" data-bird-size="medium" data-bird-type="odd">
          <img src="https://assets.codepen.io/150150/peacock.jpg" />
          Peacock
        </li>
        <li data-item="bird" data-bird-size="large" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/eagle.jpg" />
          Eagle
        </li>
        <li data-item="bird" data-bird-size="small" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/warbler.jpg" />
          Warbler
        </li>
        <li data-item="bird" data-bird-size="large" data-bird-type="odd">
          <img src="https://assets.codepen.io/150150/cassowary.jpg" />
          Cassowary
        </li>
        <li data-item="bird" data-bird-size="medium" data-bird-type="all">
          <img src="https://assets.codepen.io/150150/duck.jpg" />
          Duck
        </li>
      </ul>
    </div>
  </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", (event) => {
  // Get the bird list
  let birdList = document.querySelector('[data-list="birds"]');
  if (!birdList) {
    console.error("Could not find bird list");
    return;
  }

  // Get birds from bird list
  let birds = birdList.querySelectorAll('[data-item="bird"]');

  // Get radio buttons
  let radios = document.querySelectorAll("input[type=radio][name=type]");
  radios.forEach(function (radio) {
    radio.addEventListener("change", filterBirds);
  });

  // Get checkboxes
  let checkboxes = document.querySelectorAll("input[type=checkbox][name=size]");
  checkboxes.forEach(function (checkbox) {
    checkbox.addEventListener("change", filterBirds);
  });

  function filterBirds() {
    let selectedBirdTypeRadio = document.querySelector(
      "input[type=radio][name=type]:checked"
    );
    let selectedBirdType = selectedBirdTypeRadio
      ? selectedBirdTypeRadio.value.toLowerCase()
      : "all";

    let checkedSizes = Array.from(checkboxes)
      .filter((checkbox) => checkbox.checked)
      .map((checkbox) => checkbox.value);

    // Loop through the bird list
    for (let i = 0; i < birds.length; i++) {
      let birdType = birds[i].getAttribute("data-bird-type");
      let birdSize = birds[i].getAttribute("data-bird-size");

      // If matched
      if (
        (checkedSizes.includes(birdSize) || checkedSizes.length === 0) &&
        (birdType === selectedBirdType || selectedBirdType === "all")
      ) {
        birds[i].style.display = "";
      } else {
        birds[i].style.display = "none";
      }
    }
  }

  // Initial filter
  filterBirds();
});

</script>
</body>
</html>